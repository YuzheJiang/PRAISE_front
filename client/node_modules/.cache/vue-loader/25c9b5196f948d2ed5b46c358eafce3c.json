{"remainingRequest":"/Users/reshika/cs20/Research_Assistant/HSBC/air_pollution/PRAISE_front/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/reshika/cs20/Research_Assistant/HSBC/air_pollution/PRAISE_front/client/src/components/MapView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/air_pollution/PRAISE_front/client/src/components/MapView.vue","mtime":1594869129061},{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/air_pollution/PRAISE_front/client/node_modules/cache-loader/dist/cjs.js","mtime":1594193191162},{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/air_pollution/PRAISE_front/client/node_modules/babel-loader/lib/index.js","mtime":1594193189891},{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/air_pollution/PRAISE_front/client/node_modules/cache-loader/dist/cjs.js","mtime":1594193191162},{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/air_pollution/PRAISE_front/client/node_modules/vue-loader/lib/index.js","mtime":1594193201324}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnOwppbXBvcnQgTCBmcm9tICdsZWFmbGV0JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEFjY1ZpZXcgZnJvbSAnLi9BY2NWaWV3LnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hcFZpZXcnLAogIGNvbXBvbmVudHM6IHsKICAgIEFjY1ZpZXcsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgUG9sbHV0YW50X25hbWVzOiBbCiAgICAgICAgeyBuYW1lOiAnTk8yJyB9LAogICAgICAgIHsgbmFtZTogJ08zJyB9LAogICAgICAgIHsgbmFtZTogJ1BNMTAnIH0sCiAgICAgICAgeyBuYW1lOiAnUE0yNScgfSwKICAgICAgICB7IG5hbWU6ICdTTzInIH0sCiAgICAgIF0sCiAgICAgIEZ1dHVyZV9ob3VyczogWwogICAgICAgIHsgaG91cjogJzAnIH0sCiAgICAgICAgeyBob3VyOiAnMScgfSwKICAgICAgICB7IGhvdXI6ICcyJyB9LAogICAgICAgIHsgaG91cjogJzMnIH0sCiAgICAgICAgeyBob3VyOiAnNCcgfSwKICAgICAgICB7IGhvdXI6ICc1JyB9LAogICAgICAgIHsgaG91cjogJzYnIH0sCiAgICAgICAgeyBob3VyOiAnNycgfSwKICAgICAgICB7IGhvdXI6ICc4JyB9LAogICAgICAgIHsgaG91cjogJzknIH0sCiAgICAgICAgeyBob3VyOiAnMTAnIH0sCiAgICAgICAgeyBob3VyOiAnMTEnIH0sCiAgICAgICAgeyBob3VyOiAnMTInIH0sCiAgICAgIF0sCiAgICAgIE1ldGhvZHM6IFsKICAgICAgICB7IG5hbWU6ICdDTUFRJyB9LAogICAgICAgIHsgbmFtZTogJ091ck1ldGhvZCcgfSwKICAgICAgXSwKICAgICAgc2VsZWN0ZWQ6ICdQTTEwJywKICAgICAgTWV0aG9kX25hbWU6ICdDTUFRJywKICAgICAgYnV0dG9uTmFtZTogJ1BsYXknLAogICAgICBmbGFnOiBmYWxzZSwKICAgICAgYXJyYXk6IFsxMiwgMTEsIDEwLCA5LCA4LCA3LCA2LCA1LCA0LCAzLCAyLCAxLCAwXSwKICAgICAgaW5kZXg6IDEyLAogICAgICBob3VyOiAnMCcsCiAgICAgIGRhdGU6ICcyMDE3LTAxLTAyIDIxOjAwOjAwJywKICAgICAgbWFwOiBudWxsLAogICAgICB0aWxlTGF5ZXI6IG51bGwsCiAgICAgIGdlb2RhdGE6IFtdLAogICAgICBwb2x5Z29uX2RhdGE6IFtdLAogICAgICBjb2xvckRhdGE6IFt7IG9mZnNldDogJzAlJywgY29sb3I6ICcjYzRlNmMzJyB9LCB7IG9mZnNldDogJzE4LjI4JScsIGNvbG9yOiAnIzk2ZDJhNCcgfSwKICAgICAgICB7IG9mZnNldDogJzI4LjU2JScsIGNvbG9yOiAnIzZkYmM5MCcgfSwgeyBvZmZzZXQ6ICc0Mi44NCUnLCBjb2xvcjogJyM0ZGEyODQnIH0sCiAgICAgICAgeyBvZmZzZXQ6ICc1Ny4xMiUnLCBjb2xvcjogJyMzNjg3N2EnIH0sIHsgb2Zmc2V0OiAnNzEuNCUnLCBjb2xvcjogJyMyNjZiNmUnIH0sCiAgICAgICAgeyBvZmZzZXQ6ICcxMDAlJywgY29sb3I6ICcjMWQ0ZjYwJyB9XSwKICAgICAgZXh0ZW50OiBbMCwgODBdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRNYXAoKSB7CiAgICAgIHRoaXMubWFwID0gTC5tYXAoJ21hcCcpLnNldFZpZXcoWzIyLjM0Mzg1LCAxMTQuMTI4OV0sIDEwKTsKICAgICAgdGhpcy50aWxlTGF5ZXIgPSBMLnRpbGVMYXllcignaHR0cHM6Ly9jYXJ0b2RiLWJhc2VtYXBzLXtzfS5nbG9iYWwuc3NsLmZhc3RseS5uZXQvcmFzdGVydGlsZXMvdm95YWdlci97en0ve3h9L3t5fS5wbmcnLAogICAgICAgIHsgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj0iaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHQiPk9wZW5TdHJlZXRNYXA8L2E+LCAmY29weTsgPGEgaHJlZj0iaHR0cHM6Ly9jYXJ0by5jb20vYXR0cmlidXRpb24iPkNBUlRPPC9hPicgfSk7CiAgICAgIHRoaXMudGlsZUxheWVyLmFkZFRvKHRoaXMubWFwKTsKICAgIH0sCiAgICBkcmF3R3JpZHMocmVzcG9uc2UpIHsKICAgICAgdGhpcy5jbGVhckxheWVyKCk7CiAgICAgIGxldCBwb2x5Z29uOwogICAgICBjb25zdCBjb2xvcnMgPSBkMy5zY2FsZVF1YW50aXplKCkKICAgICAgICAuZG9tYWluKHRoaXMuZXh0ZW50KQogICAgICAgIC5yYW5nZSh0aGlzLmNvbG9yRGF0YS5tYXAoKGQpID0+IGQuY29sb3IpKTsKICAgICAgdGhpcy5nZW9kYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5nZW9kYXRhKTsKICAgICAgdGhpcy5nZW9kYXRhLmZvckVhY2goKGxheWVyKSA9PiB7CiAgICAgICAgY29uc3QgdmFsID0gbGF5ZXIucG9sbHV0YW50OwogICAgICAgIHBvbHlnb24gPSBMLnBvbHlnb24obGF5ZXIuY29vcmQsIHsKICAgICAgICAgIGZpbGxDb2xvcjogY29sb3JzKGxheWVyLnBvbGx1dGFudCksIGNvbG9yOiAnZ3JleScsIHdlaWdodDogMCwgb3BhY2l0eTogMCwgZmlsbE9wYWNpdHk6IDAuNSwKICAgICAgICB9KS5iaW5kVG9vbHRpcCh2YWwudG9TdHJpbmcoKSk7CiAgICAgICAgcG9seWdvbi5hZGRUbyh0aGlzLm1hcCk7CiAgICAgICAgdGhpcy5wb2x5Z29uX2RhdGEucHVzaChwb2x5Z29uKTsKICAgICAgfSk7CiAgICB9LAogICAgZHJhd0xlZ2VuZCgpIHsKICAgICAgY29uc3QgeFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKQogICAgICAgIC5yYW5nZShbMCwgMjUwIC0gKDkgKiAyKV0pCiAgICAgICAgLmRvbWFpbih0aGlzLmV4dGVudCk7CiAgICAgIGNvbnN0IHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4U2NhbGUpCiAgICAgICAgLnRpY2tTaXplKDggKiAyKQogICAgICAgIC50aWNrVmFsdWVzKHRoaXMuZXh0ZW50KTsKICAgICAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KCcjbGVnZW5kJykKICAgICAgICAuYXBwZW5kKCdzdmcnKQogICAgICAgIC5hdHRyKCd3aWR0aCcsIDI1MCkKICAgICAgICAuYXR0cignaGVpZ2h0JywgNTApOwogICAgICBjb25zdCBnID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoNCwgMjApJyk7CiAgICAgIGNvbnN0IGRlZnMgPSBzdmcuYXBwZW5kKCdkZWZzJyk7CiAgICAgIGNvbnN0IGxpbmVhckdyYWRpZW50ID0gZGVmcy5hcHBlbmQoJ2xpbmVhckdyYWRpZW50JykuYXR0cignaWQnLCAnbXlHcmFkaWVudCcpOwogICAgICBsaW5lYXJHcmFkaWVudC5zZWxlY3RBbGwoJ3N0b3AnKQogICAgICAgIC5kYXRhKHRoaXMuY29sb3JEYXRhKQogICAgICAgIC5lbnRlcigpLmFwcGVuZCgnc3RvcCcpCiAgICAgICAgLmF0dHIoJ29mZnNldCcsIChkKSA9PiBkLm9mZnNldCkKICAgICAgICAuYXR0cignc3RvcC1jb2xvcicsIChkKSA9PiBkLmNvbG9yKTsKICAgICAgZy5hcHBlbmQoJ3JlY3QnKQogICAgICAgIC5hdHRyKCd3aWR0aCcsIDI1MCAtICg5ICogMikpCiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDgpCiAgICAgICAgLnN0eWxlKCdmaWxsJywgJ3VybCgjbXlHcmFkaWVudCknKTsKICAgICAgZy5hcHBlbmQoJ2cnKQogICAgICAgIC5jYWxsKHhBeGlzKTsKICAgIH0sCiAgICBjbGVhckxheWVyKCkgewogICAgICB0aGlzLnBvbHlnb25fZGF0YS5mb3JFYWNoKChsYXllcikgPT4gewogICAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKGxheWVyKTsKICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0QnV0dG9uKCkgewogICAgICB0aGlzLmNoYW5nZU5hbWUoKTsKICAgICAgdGhpcy5nZXRkYXRhKCk7CiAgICB9LAogICAgcGxheUJ1dHRvbigpIHsKICAgICAgdGhpcy5mbGFnID0gdHJ1ZTsKICAgICAgdGhpcy5kb0FuaW1hdGlvbih0aGlzLmluZGV4KTsKICAgIH0sCiAgICBzdG9wQnV0dG9uKCkgewogICAgICB0aGlzLmZsYWcgPSBmYWxzZTsKICAgIH0sCiAgICBnZXRkYXRhKCkgewogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9kYXRhJzsKICAgICAgYXhpb3MucG9zdChwYXRoLCB7CiAgICAgICAgTWV0aG9kOiB0aGlzLk1ldGhvZF9uYW1lLAogICAgICAgIHBvbGx1dGFudHM6IHRoaXMuc2VsZWN0ZWQsCiAgICAgICAgRGF0ZTogdGhpcy5kYXRlLAogICAgICAgIEZ1dHVyZV9ob3VyOiB0aGlzLmhvdXIsCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5kcmF3R3JpZHMocmVzKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIGRvQW5pbWF0aW9uKGopIHsKICAgICAgbGV0IHggPSBqOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBpZiAodGhpcy5mbGFnID09PSB0cnVlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFycmF5W3hdKTsKICAgICAgICAgIHRoaXMuaG91ciA9IHRoaXMuYXJyYXlbeF07CiAgICAgICAgICB0aGlzLmNoYW5nZU5hbWUoKTsKICAgICAgICAgIC8vIHRoaXMuZ2V0ZGF0YSgpOwogICAgICAgICAgeCAtPSAxOwogICAgICAgICAgaWYgKHggPj0gMCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyh4KTsKICAgICAgICAgICAgdGhpcy5pbmRleCA9IHg7CiAgICAgICAgICAgIHRoaXMuZG9BbmltYXRpb24oeCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCA1MDAwKTsKICAgIH0sCiAgICBjaGFuZ2VOYW1lKCkgewogICAgICBjb25zdCBoZWFkID0gdGhpcy5NZXRob2RfbmFtZTsKICAgICAgY29uc3QgbGVnTmFtZSA9IHRoaXMuc2VsZWN0ZWQ7CiAgICAgIGNvbnN0IGZoTmFtZSA9ICdGdXR1cmVfaG91cjogJzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRpbmcnKS5pbm5lckhUTUwgPSBoZWFkLmNvbmNhdCgnICBSZXN1bHQnKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZ2VuZF9uYW1lJykuaW5uZXJIVE1MID0gbGVnTmFtZS5jb25jYXQoJyAgQ29uY2VudHJhdGlvbicpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRnV0dXJlX2hvdXInKS5pbm5lckhUTUwgPSBmaE5hbWUuY29uY2F0KHRoaXMuaG91cik7CiAgICB9LAogICAgZ2V0QnV0dG9uTmFtZShuYW1lKSB7CiAgICAgIHRoaXMucmVzdWx0X2RhdGEgPSBuYW1lOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRNYXAoKTsKICAgIHRoaXMuc3VibWl0QnV0dG9uKCk7CiAgICB0aGlzLmRyYXdMZWdlbmQoKTsKICB9LAp9Owo="},{"version":3,"sources":["MapView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MapView.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"row\">\n      <div class=\"col-md-6 border border-dark rounded\" id=\"column_one\">\n        <div class=\"row\" id=\"first_row\">\n          <div class=\"col-md-6 seperate\">\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <label class=\"labels text\">Date:</label>\n              </div>\n              <div class=\"col-md-6\">\n                <date-picker v-model=\"date\" lang=\"en\" id=\"date-picker\"\n                 type=\"datetime\" valueType=\"format\"\n                 format=\"YYYY-MM-DD HH:mm:ss\"></date-picker>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-6 seperate\">\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <label class=\"labels text\">Pollutant:</label>\n              </div>\n              <div class=\"col-md-6\">\n                <select name=\"Please select a pollutant\"\n                    id=\"filter_option\" v-model=\"selected\">\n                  <option v-for=\"Pollutant_name in Pollutant_names\"\n                          v-bind:key=\"Pollutant_name.name\">\n                        {{ Pollutant_name.name }}\n                  </option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\" id=\"second_row\">\n          <div class=\"col-md-6 seperate\">\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <label class=\"labels text\">Method:</label>\n              </div>\n              <div class=\"col-md-6\">\n                <select name=\"Please select a pollutant\"\n                  id=\"filter_option\" v-model=\"Method_name\">\n                  <option v-for=\"Method in Methods\" v-bind:key=\"Method.name\">\n                        {{ Method.name }}\n                  </option>\n                </select>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-6\">\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <label class=\"labels text\">Future Hour:</label>\n              </div>\n              <div class=\"col-md-6\">\n                <select name=\"Please select a pollutant\"\n                  id=\"filter_option\" v-model=\"hour\">\n                  <option v-for=\"Future_hour in Future_hours\" v-bind:key=\"Future_hour.hour\">\n                        {{ Future_hour.hour }}\n                  </option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n         <hr>\n        <div class=\"row\" id=\"third_row\">\n            <div class=\"col-md-6 seperate\">\n              <button type=\"button\" class=\"button_1 btn btn-dark text\"\n              @click=\"submitButton($event)\"> Submit </button>\n          </div>\n          <div class=\"col-md-6\">\n            <div class=\"row\">\n              <p>Animate</p>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <button type=\"button\" class=\"button_2 btn btn-dark btn-sm text\"\n                @click=\"playButton($event)\">Play</button>\n              </div>\n              <div class=\"col-md-6\">\n                <button type=\"button\" class=\"button_3 btn btn-dark btn-sm text\"\n                @click=\"stopButton($event)\">Stop</button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <hr>\n        <div class=\"row\">\n          <div class=\"col-md-9\">\n            <h2 id=\"heading\"> </h2>\n          </div>\n          <div class=\"col-md-3\">\n            <h6 id=\"Future_hour\"> </h6>\n          </div>\n        </div>\n        <div id=\"map\">\n          Here goes the map\n        </div>\n        <div id=\"legend\">\n          <p id='legend_name' class='legend_head'> </p>\n        </div>\n    </div>\n      <div class=\"col-md-6 border border-dark rounded\">\n        <AccView/>\n      </div>\n    </div>\n</template>\n<script>\nimport * as d3 from 'd3';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport axios from 'axios';\nimport AccView from './AccView.vue';\n\nexport default {\n  name: 'MapView',\n  components: {\n    AccView,\n  },\n  data() {\n    return {\n      Pollutant_names: [\n        { name: 'NO2' },\n        { name: 'O3' },\n        { name: 'PM10' },\n        { name: 'PM25' },\n        { name: 'SO2' },\n      ],\n      Future_hours: [\n        { hour: '0' },\n        { hour: '1' },\n        { hour: '2' },\n        { hour: '3' },\n        { hour: '4' },\n        { hour: '5' },\n        { hour: '6' },\n        { hour: '7' },\n        { hour: '8' },\n        { hour: '9' },\n        { hour: '10' },\n        { hour: '11' },\n        { hour: '12' },\n      ],\n      Methods: [\n        { name: 'CMAQ' },\n        { name: 'OurMethod' },\n      ],\n      selected: 'PM10',\n      Method_name: 'CMAQ',\n      buttonName: 'Play',\n      flag: false,\n      array: [12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0],\n      index: 12,\n      hour: '0',\n      date: '2017-01-02 21:00:00',\n      map: null,\n      tileLayer: null,\n      geodata: [],\n      polygon_data: [],\n      colorData: [{ offset: '0%', color: '#c4e6c3' }, { offset: '18.28%', color: '#96d2a4' },\n        { offset: '28.56%', color: '#6dbc90' }, { offset: '42.84%', color: '#4da284' },\n        { offset: '57.12%', color: '#36877a' }, { offset: '71.4%', color: '#266b6e' },\n        { offset: '100%', color: '#1d4f60' }],\n      extent: [0, 80],\n    };\n  },\n  methods: {\n    initMap() {\n      this.map = L.map('map').setView([22.34385, 114.1289], 10);\n      this.tileLayer = L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}.png',\n        { attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, &copy; <a href=\"https://carto.com/attribution\">CARTO</a>' });\n      this.tileLayer.addTo(this.map);\n    },\n    drawGrids(response) {\n      this.clearLayer();\n      let polygon;\n      const colors = d3.scaleQuantize()\n        .domain(this.extent)\n        .range(this.colorData.map((d) => d.color));\n      this.geodata = response.data;\n      // console.log(this.geodata);\n      this.geodata.forEach((layer) => {\n        const val = layer.pollutant;\n        polygon = L.polygon(layer.coord, {\n          fillColor: colors(layer.pollutant), color: 'grey', weight: 0, opacity: 0, fillOpacity: 0.5,\n        }).bindTooltip(val.toString());\n        polygon.addTo(this.map);\n        this.polygon_data.push(polygon);\n      });\n    },\n    drawLegend() {\n      const xScale = d3.scaleLinear()\n        .range([0, 250 - (9 * 2)])\n        .domain(this.extent);\n      const xAxis = d3.axisBottom(xScale)\n        .tickSize(8 * 2)\n        .tickValues(this.extent);\n      const svg = d3.select('#legend')\n        .append('svg')\n        .attr('width', 250)\n        .attr('height', 50);\n      const g = svg.append('g').attr('transform', 'translate(4, 20)');\n      const defs = svg.append('defs');\n      const linearGradient = defs.append('linearGradient').attr('id', 'myGradient');\n      linearGradient.selectAll('stop')\n        .data(this.colorData)\n        .enter().append('stop')\n        .attr('offset', (d) => d.offset)\n        .attr('stop-color', (d) => d.color);\n      g.append('rect')\n        .attr('width', 250 - (9 * 2))\n        .attr('height', 8)\n        .style('fill', 'url(#myGradient)');\n      g.append('g')\n        .call(xAxis);\n    },\n    clearLayer() {\n      this.polygon_data.forEach((layer) => {\n        this.map.removeLayer(layer);\n      });\n    },\n    submitButton() {\n      this.changeName();\n      this.getdata();\n    },\n    playButton() {\n      this.flag = true;\n      this.doAnimation(this.index);\n    },\n    stopButton() {\n      this.flag = false;\n    },\n    getdata() {\n      const path = 'http://127.0.0.1:5000/data';\n      axios.post(path, {\n        Method: this.Method_name,\n        pollutants: this.selected,\n        Date: this.date,\n        Future_hour: this.hour,\n      })\n        .then((res) => {\n          this.drawGrids(res);\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    doAnimation(j) {\n      let x = j;\n      setTimeout(() => {\n        if (this.flag === true) {\n          console.log(this.array[x]);\n          this.hour = this.array[x];\n          this.changeName();\n          // this.getdata();\n          x -= 1;\n          if (x >= 0) {\n            console.log(x);\n            this.index = x;\n            this.doAnimation(x);\n          }\n        }\n      }, 5000);\n    },\n    changeName() {\n      const head = this.Method_name;\n      const legName = this.selected;\n      const fhName = 'Future_hour: ';\n      document.getElementById('heading').innerHTML = head.concat('  Result');\n      document.getElementById('legend_name').innerHTML = legName.concat('  Concentration');\n      document.getElementById('Future_hour').innerHTML = fhName.concat(this.hour);\n    },\n    getButtonName(name) {\n      this.result_data = name;\n    },\n  },\n  mounted() {\n    this.initMap();\n    this.submitButton();\n    this.drawLegend();\n  },\n};\n</script>\n<style>\n/* Column 1 */\n/* ids */\n#first_row, #second_row, #third_row{\n  padding: 1% 0 1% 2%;\n  text-align: left;\n}\n#filter_option{\n  margin-top: 5%;\n}\n#date-picker{\n  width: 173px;\n}\n#date{\n  padding-top: 4%;\n}\n#filter {\n  padding-top: 5%;\n  padding-left: 40%;\n}\n#map {\n  text-align: center;\n  height: 450px;\n  width: 650px;\n  margin: 3% 10%;\n}\n#legend{\n  margin-left: 10%;\n  text-align: left;\n}\n#Future_hour{\n  margin-top: 20%;\n}\n#heading{\n  padding-left: 30%;\n}\n/* tags */\nhr{\n  margin: 0;\n  width: 102%;\n}\np{\n  font-weight: bold;\n  margin: 0 155px;\n}\n/* class */\n.button_1{\n  margin: 5% 0 0 40% ;\n  width: 130px;\n}\n.button_2{\n  margin: 0 0 0 40%;\n  width: 80px;\n}\n.button_3{\n  margin: 0 28% 0 0;\n  width: 80px;\n}\n.labels{\n  margin-top: 5%;\n}\n.seperate{\n  border-right: 1px solid lightgrey;\n}\n.text{\n  font-weight: bold;\n  font-size: 17px;\n}\n.legend_head{\n  margin: 0;\n  text-align: left;\n}\n</style>\n"]}]}