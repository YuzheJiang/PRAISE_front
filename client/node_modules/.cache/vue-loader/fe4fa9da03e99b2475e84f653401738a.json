{"remainingRequest":"/Users/reshika/cs20/Research_Assistant/HSBC/New_layout/PRAISE_front/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/reshika/cs20/Research_Assistant/HSBC/New_layout/PRAISE_front/client/src/components/mappyview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/New_layout/PRAISE_front/client/src/components/mappyview.vue","mtime":1596604873675},{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/New_layout/PRAISE_front/client/node_modules/cache-loader/dist/cjs.js","mtime":1594193191162},{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/New_layout/PRAISE_front/client/node_modules/babel-loader/lib/index.js","mtime":1594193189891},{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/New_layout/PRAISE_front/client/node_modules/cache-loader/dist/cjs.js","mtime":1594193191162},{"path":"/Users/reshika/cs20/Research_Assistant/HSBC/New_layout/PRAISE_front/client/node_modules/vue-loader/lib/index.js","mtime":1594193201324}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnOwppbXBvcnQgTCBmcm9tICdsZWFmbGV0JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEV2ZW50QnVzIGZyb20gJ0AvZXZlbnRCdXMnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdtYXBweXZpZXcnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2xvckRhdGE6IFt7IG9mZnNldDogJzAlJywgY29sb3I6ICcjZmZmZmZmJyB9LCB7IG9mZnNldDogJzE4LjI4JScsIGNvbG9yOiAnI2VkZjhmYicgfSwKICAgICAgICB7IG9mZnNldDogJzI4LjU2JScsIGNvbG9yOiAnI2NjZWNlNicgfSwgeyBvZmZzZXQ6ICc0Mi44NCUnLCBjb2xvcjogJyM5OWQ4YzknIH0sCiAgICAgICAgeyBvZmZzZXQ6ICc1Ny4xMiUnLCBjb2xvcjogJyM2NmMyYTQnIH0sIHsgb2Zmc2V0OiAnNzEuNCUnLCBjb2xvcjogJyMyY2EyNWYnIH0sCiAgICAgICAgeyBvZmZzZXQ6ICcxMDAlJywgY29sb3I6ICcjMDA2ZDJjJyB9XSwKICAgICAgZXh0ZW50OiBbMCwgODBdLAogICAgICBhcnJheTogWzEyLCAxMSwgMTAsIDksIDgsIDcsIDYsIDUsIDQsIDMsIDIsIDEsIDBdLAogICAgICBpbmRleDogMTIsCiAgICAgIG9iU3RhdGlvbjogbnVsbCwKICAgICAgbWFwMTogbnVsbCwKICAgICAgbWFwMjogbnVsbCwKICAgICAgZmxhZzogZmFsc2UsCiAgICAgIHBvbHlnb25fZGF0YV8xOiBbXSwKICAgICAgcG9seWdvbl9kYXRhXzI6IFtdLAogICAgICBnZW9kYXRhOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRNYXAoKSB7CiAgICAgIHRoaXMubWFwMSA9IEwubWFwKCdtYXBfMScpLnNldFZpZXcoWzIyLjM0Mzg1LCAxMTQuMTI4OV0sIDEwKTsKICAgICAgdGhpcy5tYXAyID0gTC5tYXAoJ21hcF8yJykuc2V0VmlldyhbMjIuMzQzODUsIDExNC4xMjg5XSwgMTApOwogICAgICBMLnRpbGVMYXllcignaHR0cHM6Ly9jYXJ0b2RiLWJhc2VtYXBzLXtzfS5nbG9iYWwuc3NsLmZhc3RseS5uZXQvcmFzdGVydGlsZXMvdm95YWdlci97en0ve3h9L3t5fS5wbmcnLAogICAgICAgIHsgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj0iaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHQiPk9wZW5TdHJlZXRNYXA8L2E+LCAmY29weTsgPGEgaHJlZj0iaHR0cHM6Ly9jYXJ0by5jb20vYXR0cmlidXRpb24iPkNBUlRPPC9hPicgfSkuYWRkVG8odGhpcy5tYXAxKTsKICAgICAgTC50aWxlTGF5ZXIoJ2h0dHBzOi8vY2FydG9kYi1iYXNlbWFwcy17c30uZ2xvYmFsLnNzbC5mYXN0bHkubmV0L3Jhc3RlcnRpbGVzL3ZveWFnZXIve3p9L3t4fS97eX0ucG5nJywKICAgICAgICB7IGF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIGhyZWY9Imh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0Ij5PcGVuU3RyZWV0TWFwPC9hPiwgJmNvcHk7IDxhIGhyZWY9Imh0dHBzOi8vY2FydG8uY29tL2F0dHJpYnV0aW9uIj5DQVJUTzwvYT4nIH0pLmFkZFRvKHRoaXMubWFwMik7CiAgICB9LAogICAgZHJhd0dyaWRzKGRhdGEsIGhyKSB7CiAgICAgIGNvbnN0IGNvbG9ycyA9IGQzLnNjYWxlUXVhbnRpemUoKQogICAgICAgIC5kb21haW4odGhpcy5leHRlbnQpCiAgICAgICAgLnJhbmdlKHRoaXMuY29sb3JEYXRhLm1hcCgoZCkgPT4gZC5jb2xvcikpOwogICAgICBjb25zdCBtZXRob2QgPSBbJ0NNQVFfZGF0YScsICdPdXJfbWV0aG9kX2RhdGEnXTsKICAgICAgdGhpcy5nZW9kYXRhID0gZGF0YTsKICAgICAgbWV0aG9kLmZvckVhY2goKGVsZW1lbnQpID0+IHsKICAgICAgICBjb25zdCBuYW1lID0gZWxlbWVudDsKICAgICAgICB0aGlzLmNsZWFyTGF5ZXIobmFtZSk7CiAgICAgICAgbGV0IHBvbHlnb247CiAgICAgICAgY29uc3QgbmV3RGF0YSA9IGRhdGEuZmlsdGVyKCh7IE5hbWUgfSkgPT4gW25hbWVdLmluY2x1ZGVzKE5hbWUpKTsKICAgICAgICBuZXdEYXRhLmZvckVhY2goKGwpID0+IHsKICAgICAgICAgIGNvbnN0IGxheWVyID0gbFtocl07CiAgICAgICAgICBjb25zdCB2YWwgPSBsYXllci5wb2xsdXRhbnQudG9GaXhlZCgyKTsKICAgICAgICAgIGNvbnN0IG9ic1ZhbCA9IGxheWVyLk9ic19jb247CiAgICAgICAgICBpZiAobGF5ZXIuZGF0YSA9PT0gJ09ic2VydmF0b3J5X2RhdGEnKSB7CiAgICAgICAgICAgIHBvbHlnb24gPSBMLnBvbHlnb24obGF5ZXIuY29vcmQsIHsKICAgICAgICAgICAgICBmaWxsQ29sb3I6ICdyZWQnLCB3ZWlnaHQ6IDAsIG9wYWNpdHk6IDAsIGZpbGxPcGFjaXR5OiAwLjYsCiAgICAgICAgICAgIH0pLmJpbmRUb29sdGlwKGAke25hbWV9OiAke3ZhbC50b1N0cmluZygpfVxuIE9iczogJHtvYnNWYWwudG9TdHJpbmcoKX1gKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvbHlnb24gPSBMLnBvbHlnb24obGF5ZXIuY29vcmQsIHsKICAgICAgICAgICAgICBmaWxsQ29sb3I6IGNvbG9ycyhsYXllci5wb2xsdXRhbnQpLCB3ZWlnaHQ6IDAsIG9wYWNpdHk6IDAsIGZpbGxPcGFjaXR5OiAwLjQsCiAgICAgICAgICAgIH0pLmJpbmRUb29sdGlwKGAke25hbWV9OiAke3ZhbC50b1N0cmluZygpfWApOwogICAgICAgICAgfQogICAgICAgICAgaWYgKG5hbWUgPT09ICdDTUFRX2RhdGEnKSB7CiAgICAgICAgICAgIHBvbHlnb24uYWRkVG8odGhpcy5tYXAxKTsKICAgICAgICAgICAgdGhpcy5wb2x5Z29uX2RhdGFfMS5wdXNoKHBvbHlnb24pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9seWdvbi5hZGRUbyh0aGlzLm1hcDIpOwogICAgICAgICAgICB0aGlzLnBvbHlnb25fZGF0YV8yLnB1c2gocG9seWdvbik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGRyYXdMZWdlbmQoZGl2SUQpIHsKICAgICAgY29uc3QgeFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKQogICAgICAgIC5yYW5nZShbMCwgMTgwIC0gKDkgKiAyKV0pCiAgICAgICAgLmRvbWFpbih0aGlzLmV4dGVudCk7CiAgICAgIGNvbnN0IHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4U2NhbGUpCiAgICAgICAgLnRpY2tTaXplKDggKiAyKQogICAgICAgIC50aWNrVmFsdWVzKHRoaXMuZXh0ZW50KTsKICAgICAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KGRpdklEKQogICAgICAgIC5hcHBlbmQoJ3N2ZycpCiAgICAgICAgLmF0dHIoJ3dpZHRoJywgMTgwKQogICAgICAgIC5hdHRyKCdoZWlnaHQnLCAzNSk7CiAgICAgIGNvbnN0IGcgPSBzdmcuYXBwZW5kKCdnJykuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgzLCA1KScpOwogICAgICBjb25zdCBkZWZzID0gc3ZnLmFwcGVuZCgnZGVmcycpOwogICAgICBjb25zdCBsaW5lYXJHcmFkaWVudCA9IGRlZnMuYXBwZW5kKCdsaW5lYXJHcmFkaWVudCcpLmF0dHIoJ2lkJywgJ215R3JhZGllbnQnKTsKICAgICAgbGluZWFyR3JhZGllbnQuc2VsZWN0QWxsKCdzdG9wJykKICAgICAgICAuZGF0YSh0aGlzLmNvbG9yRGF0YSkKICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3N0b3AnKQogICAgICAgIC5hdHRyKCdvZmZzZXQnLCAoZCkgPT4gZC5vZmZzZXQpCiAgICAgICAgLmF0dHIoJ3N0b3AtY29sb3InLCAoZCkgPT4gZC5jb2xvcik7CiAgICAgIGcuYXBwZW5kKCdyZWN0JykKICAgICAgICAuYXR0cignd2lkdGgnLCAxODAgLSAoOSAqIDIpKQogICAgICAgIC5hdHRyKCdoZWlnaHQnLCA4KQogICAgICAgIC5zdHlsZSgnZmlsbCcsICd1cmwoI215R3JhZGllbnQpJyk7CiAgICAgIGcuYXBwZW5kKCdnJykKICAgICAgICAuY2FsbCh4QXhpcyk7CiAgICB9LAogICAgY2xlYXJMYXllcihtZXRob2ROYW1lKSB7CiAgICAgIGlmIChtZXRob2ROYW1lID09PSAnQ01BUV9kYXRhJykgewogICAgICAgIHRoaXMucG9seWdvbl9kYXRhXzEuZm9yRWFjaCgobGF5ZXIpID0+IHsKICAgICAgICAgIHRoaXMubWFwMS5yZW1vdmVMYXllcihsYXllcik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wb2x5Z29uX2RhdGFfMi5mb3JFYWNoKChsYXllcikgPT4gewogICAgICAgICAgdGhpcy5tYXAyLnJlbW92ZUxheWVyKGxheWVyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrQ29uZGl0aW9uKHBvbCwgb2xQb2wsIGhyLCBuRCwgb0QpIHsKICAgICAgdGhpcy5jaGFuZ2VOYW1lKHBvbCwgaHIpOwogICAgICBpZiAob0QgPT09IG5EICYmIG9sUG9sID09PSBwb2wpIHsKICAgICAgICBjb25zb2xlLmxvZyh0cnVlKTsKICAgICAgICB0aGlzLmRyYXdHcmlkcyh0aGlzLmdlb2RhdGEsIGhyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldGRhdGEocG9sLCBociwgbkQpOwogICAgICB9CiAgICB9LAogICAgZ2V0ZGF0YShwb2wsIGhyLCBuRCkgewogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9kYXRhJzsKICAgICAgYXhpb3MucG9zdChwYXRoLCB7CiAgICAgICAgcG9sbHV0YW50czogcG9sLAogICAgICAgIERhdGU6IG5ELAogICAgICAgIEZ1dHVyZV9ob3VyOiBociwKICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLmRyYXdHcmlkcyhyZXMuZGF0YSwgaHIpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgZG9BbmltYXRpb24oaiwgcG9sLCBvbFBvbCwgbkQsIG9EKSB7CiAgICAgIGxldCB4ID0gajsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuZmxhZyA9PT0gdHJ1ZSkgewogICAgICAgICAgY29uc3QgaG91ciA9IHRoaXMuYXJyYXlbeF07CiAgICAgICAgICB0aGlzLmNoZWNrQ29uZGl0aW9uKHBvbCwgb2xQb2wsIGhvdXIsIG5ELCBvRCk7CiAgICAgICAgICB4IC09IDE7CiAgICAgICAgICBpZiAoeCA+PSAwKSB7CiAgICAgICAgICAgIHRoaXMuaW5kZXggPSB4OwogICAgICAgICAgICB0aGlzLmRvQW5pbWF0aW9uKHgsIHBvbCwgb2xQb2wsIG5ELCBvRCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBjaGFuZ2VOYW1lKHBvbCwgaHIpIHsKICAgICAgY29uc3QgbGVnTmFtZSA9IHBvbDsKICAgICAgY29uc3QgZmhOYW1lID0gJ0Z1dHVyZV9ob3VyOic7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWdlbmRfbmFtZScpLmlubmVySFRNTCA9IGxlZ05hbWUuY29uY2F0KCcgIENvbmNlbnRyYXRpb24nKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0Z1dHVyZV9ob3VyJykuaW5uZXJIVE1MID0gZmhOYW1lLmNvbmNhdChocik7CiAgICB9LAogICAgc3VibWl0RnVuYyhwb2wsIG9sUG9sLCBociwgbkQsIG9EKSB7CiAgICAgIGlmICh0aGlzLmluZGV4ID09PSAwKSB7CiAgICAgICAgdGhpcy5pbmRleCA9IDEyOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLmFycmF5LmluZGV4T2YocGFyc2VJbnQoaHIsIDEwKSk7CiAgICAgIH0KICAgICAgdGhpcy5jaGVja0NvbmRpdGlvbihwb2wsIG9sUG9sLCBociwgbkQsIG9EKTsKICAgIH0sCiAgICBwbGF5RnVuYyhwb2wsIG9sUG9sLCBuRCwgb0QpIHsKICAgICAgdGhpcy5mbGFnID0gdHJ1ZTsKICAgICAgdGhpcy5kb0FuaW1hdGlvbih0aGlzLmluZGV4LCBwb2wsIG9sUG9sLCBuRCwgb0QpOwogICAgfSwKICAgIHN0b3BGdW5jKCkgewogICAgICB0aGlzLmZsYWcgPSBmYWxzZTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0TWFwKCk7CiAgICB0aGlzLmRyYXdMZWdlbmQoJyNsZWdlbmQnKTsKICAgIEV2ZW50QnVzLiRvbignY2xpY2tlZC1ldmVudCcsIChwb2xsdXRhbnQsIG9sZFBvbGx1dGFudCwgaG91ciwgbmV3RGF0ZSwgb2xkRGF0ZSkgPT4gewogICAgICBpZiAodGhpcy5nZW9kYXRhID09PSBudWxsKSB7CiAgICAgICAgdGhpcy5jaGFuZ2VOYW1lKHBvbGx1dGFudCwgaG91cik7CiAgICAgICAgdGhpcy5nZXRkYXRhKHBvbGx1dGFudCwgaG91ciwgbmV3RGF0ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdWJtaXRGdW5jKHBvbGx1dGFudCwgb2xkUG9sbHV0YW50LCBob3VyLCBuZXdEYXRlLCBvbGREYXRlKTsKICAgICAgfQogICAgfSk7CiAgICBFdmVudEJ1cy4kb24oJ3BsYXktZXZlbnQnLCAocG9sbHV0YW50LCBvbGRQb2xsdXRhbnQsIG5ld0RhdGUsIG9sZERhdGUpID0+IHsKICAgICAgdGhpcy5wbGF5RnVuYyhwb2xsdXRhbnQsIG9sZFBvbGx1dGFudCwgbmV3RGF0ZSwgb2xkRGF0ZSk7CiAgICB9KTsKICAgIEV2ZW50QnVzLiRvbignc3RvcC1ldmVudCcsICgpID0+IHsKICAgICAgdGhpcy5zdG9wRnVuYygpOwogICAgfSk7CiAgfSwKfTsK"},{"version":3,"sources":["mappyview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mappyview.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"row\">\n      <div class=\"col-12\">\n         <div class=\"row\">\n           <div class=\"col-md-3 first_map\">\n            <h6 id=\"Future_hour\">Future hour:</h6>\n          </div>\n          <div class=\"col-md-5 first_map\">\n            <h4 id='heading_1'>CMAQ Result</h4>\n          </div>\n          <div class=\"col-md-4 first_map\">\n            <p id=\"legend_name\">PM10</p>\n            <div class = 'legend' id='legend'></div>\n          </div>\n        </div>\n        <div class='map' id='map_1'></div>\n      </div>\n      <hr>\n      <div class=\"col-12\">\n         <h4 id='heading_2'>Our Method Result</h4>\n         <div class='map' id='map_2'></div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport axios from 'axios';\nimport EventBus from '@/eventBus';\n\nexport default {\n  name: 'mappyview',\n  data() {\n    return {\n      colorData: [{ offset: '0%', color: '#ffffff' }, { offset: '18.28%', color: '#edf8fb' },\n        { offset: '28.56%', color: '#ccece6' }, { offset: '42.84%', color: '#99d8c9' },\n        { offset: '57.12%', color: '#66c2a4' }, { offset: '71.4%', color: '#2ca25f' },\n        { offset: '100%', color: '#006d2c' }],\n      extent: [0, 80],\n      array: [12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0],\n      index: 12,\n      obStation: null,\n      map1: null,\n      map2: null,\n      flag: false,\n      polygon_data_1: [],\n      polygon_data_2: [],\n      geodata: null,\n    };\n  },\n  methods: {\n    initMap() {\n      this.map1 = L.map('map_1').setView([22.34385, 114.1289], 10);\n      this.map2 = L.map('map_2').setView([22.34385, 114.1289], 10);\n      L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}.png',\n        { attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, &copy; <a href=\"https://carto.com/attribution\">CARTO</a>' }).addTo(this.map1);\n      L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}.png',\n        { attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, &copy; <a href=\"https://carto.com/attribution\">CARTO</a>' }).addTo(this.map2);\n    },\n    drawGrids(data, hr) {\n      const colors = d3.scaleQuantize()\n        .domain(this.extent)\n        .range(this.colorData.map((d) => d.color));\n      const method = ['CMAQ_data', 'Our_method_data'];\n      this.geodata = data;\n      method.forEach((element) => {\n        const name = element;\n        this.clearLayer(name);\n        let polygon;\n        const newData = data.filter(({ Name }) => [name].includes(Name));\n        newData.forEach((l) => {\n          const layer = l[hr];\n          const val = layer.pollutant.toFixed(2);\n          const obsVal = layer.Obs_con;\n          if (layer.data === 'Observatory_data') {\n            polygon = L.polygon(layer.coord, {\n              fillColor: 'red', weight: 0, opacity: 0, fillOpacity: 0.6,\n            }).bindTooltip(`${name}: ${val.toString()}\\n Obs: ${obsVal.toString()}`);\n          } else {\n            polygon = L.polygon(layer.coord, {\n              fillColor: colors(layer.pollutant), weight: 0, opacity: 0, fillOpacity: 0.4,\n            }).bindTooltip(`${name}: ${val.toString()}`);\n          }\n          if (name === 'CMAQ_data') {\n            polygon.addTo(this.map1);\n            this.polygon_data_1.push(polygon);\n          } else {\n            polygon.addTo(this.map2);\n            this.polygon_data_2.push(polygon);\n          }\n        });\n      });\n    },\n    drawLegend(divID) {\n      const xScale = d3.scaleLinear()\n        .range([0, 180 - (9 * 2)])\n        .domain(this.extent);\n      const xAxis = d3.axisBottom(xScale)\n        .tickSize(8 * 2)\n        .tickValues(this.extent);\n      const svg = d3.select(divID)\n        .append('svg')\n        .attr('width', 180)\n        .attr('height', 35);\n      const g = svg.append('g').attr('transform', 'translate(3, 5)');\n      const defs = svg.append('defs');\n      const linearGradient = defs.append('linearGradient').attr('id', 'myGradient');\n      linearGradient.selectAll('stop')\n        .data(this.colorData)\n        .enter().append('stop')\n        .attr('offset', (d) => d.offset)\n        .attr('stop-color', (d) => d.color);\n      g.append('rect')\n        .attr('width', 180 - (9 * 2))\n        .attr('height', 8)\n        .style('fill', 'url(#myGradient)');\n      g.append('g')\n        .call(xAxis);\n    },\n    clearLayer(methodName) {\n      if (methodName === 'CMAQ_data') {\n        this.polygon_data_1.forEach((layer) => {\n          this.map1.removeLayer(layer);\n        });\n      } else {\n        this.polygon_data_2.forEach((layer) => {\n          this.map2.removeLayer(layer);\n        });\n      }\n    },\n    checkCondition(pol, olPol, hr, nD, oD) {\n      this.changeName(pol, hr);\n      if (oD === nD && olPol === pol) {\n        console.log(true);\n        this.drawGrids(this.geodata, hr);\n      } else {\n        this.getdata(pol, hr, nD);\n      }\n    },\n    getdata(pol, hr, nD) {\n      const path = 'http://127.0.0.1:5000/data';\n      axios.post(path, {\n        pollutants: pol,\n        Date: nD,\n        Future_hour: hr,\n      })\n        .then((res) => {\n          this.drawGrids(res.data, hr);\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    doAnimation(j, pol, olPol, nD, oD) {\n      let x = j;\n      setTimeout(() => {\n        if (this.flag === true) {\n          const hour = this.array[x];\n          this.checkCondition(pol, olPol, hour, nD, oD);\n          x -= 1;\n          if (x >= 0) {\n            this.index = x;\n            this.doAnimation(x, pol, olPol, nD, oD);\n          }\n        }\n      }, 1000);\n    },\n    changeName(pol, hr) {\n      const legName = pol;\n      const fhName = 'Future_hour:';\n      document.getElementById('legend_name').innerHTML = legName.concat('  Concentration');\n      document.getElementById('Future_hour').innerHTML = fhName.concat(hr);\n    },\n    submitFunc(pol, olPol, hr, nD, oD) {\n      if (this.index === 0) {\n        this.index = 12;\n      } else {\n        this.index = this.array.indexOf(parseInt(hr, 10));\n      }\n      this.checkCondition(pol, olPol, hr, nD, oD);\n    },\n    playFunc(pol, olPol, nD, oD) {\n      this.flag = true;\n      this.doAnimation(this.index, pol, olPol, nD, oD);\n    },\n    stopFunc() {\n      this.flag = false;\n    },\n  },\n  mounted() {\n    this.initMap();\n    this.drawLegend('#legend');\n    EventBus.$on('clicked-event', (pollutant, oldPollutant, hour, newDate, oldDate) => {\n      if (this.geodata === null) {\n        this.changeName(pollutant, hour);\n        this.getdata(pollutant, hour, newDate);\n      } else {\n        this.submitFunc(pollutant, oldPollutant, hour, newDate, oldDate);\n      }\n    });\n    EventBus.$on('play-event', (pollutant, oldPollutant, newDate, oldDate) => {\n      this.playFunc(pollutant, oldPollutant, newDate, oldDate);\n    });\n    EventBus.$on('stop-event', () => {\n      this.stopFunc();\n    });\n  },\n};\n</script>\n\n<style>\n/* tags */\n/* h4{\n  text-align: left;\n  margin: 10px 0 0 250px;\n  width: 250px;\n} */\n/* class */\n.col-12{\n  height: 50vh;\n}\n.first_map{\n  padding: 0;\n}\n.legend{\n  width: 180px;\n  margin-left: 45px;\n}\n/* ids */\n#heading_1{\n  width: 150px;\n  margin: 25px 0 0 95px;\n}\n#heading_2{\n  width: 250px;\n  margin: 15px 0 0 195px;\n}\n#Future_hour{\n  text-align: left;\n  width: 105px;\n  margin: 20px 0 0 5px;\n}\n#legend_name{\n  text-align: left;\n  margin: 5px 0 0 47px;\n  font-size: 12px;\n  width: 150px;\n}\n#map_1{\n  margin: 10px 0 0 10px;\n  height: 350px;\n  width: 630px;\n}\n#map_2{\n  margin: 50px 0 0 10px;\n  height: 350px;\n  width: 630px;\n}\n</style>\n"]}]}